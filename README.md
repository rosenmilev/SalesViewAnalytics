# SalesViewAnalytics

Application usage

1. In 'SalesViewAnalytics/data/database/datasets' you could put csv file in the format, mentioned in the documentation or you can use the provided one for demo purposes. File name must be 'sales_dataset.csv'.

2. Initiate virtual environment and activate it. Install the dependencies from requirements.txt
IMPORTANT: After installing the requirements, you must manually install kivy.matplotlib with the following command: 'garden install matplotlib --kivy'.

3. Run the 'create_database.py' file, located in 'SalesViewAnalytics/data/database' to initiate database creation and populate it with data from the 'sales_dataset.csv'.

4. Start the application by running 'main.py' file, located in 'SalesViewAnalytics/app'.







![image](https://github.com/rosenmilev/SalesViewAnalytics/assets/92728298/aee75551-40f3-45ab-b95b-b5e080c686af)


Sales View Analytics
Разработено от Росен Милев



1. Основната цел на приложението е обработката и визуализацията на големи по обем данни. По този начин потребителите, мениджъри, бизнес анализатори и ралични специалсти по обработка на данни могат да извлекат ценна информация, върху която да се базират обосновани бизнес решения.

•	Предоставяне на бърз и интуитивен начин за анализ на продажбите.
•	Извличане на значими данни и тенденции от продажбите.
•	Оптимизация на бизнес процесите чрез информирано вземане на решения.

2. Аудитория:

•	Бизнес анализатори, маркетингови специалисти и мениджъри по продажбите.
•	Малки и средни предприятия, които искат да подобрят своите продажби и разбиране на пазара.

3. Използване на приложението

1. В SalesViewAnalytics/data/database/datasets може да поставите файл(трябва да е под същото име и в същия формат) или да използвате наличния sales_datasets.csv .

2. Инсталирайте зависимостите от requirements.txt

3. Стартирайте файла create_database.py, намиращ се в SalesViewAnalytics/data/database, който инициира скрипта за подготовка на информацията от дейтасета, инициализирането на базата данни и популирането на ифнормацията в нея. Базата се създава в текущата папка.

4. Стартирайте приложението от main.py файла, намиращ се в директорията SalesViewAnalytics/app .

Забележка: В директорията на проекта фигурира генрериана база от данни, за целите на демо използване, която може да бъде изтрита и генерирана нова по описания начин.

3. Архитектурата на приложението е MVP. Модел частта си приложението има два класа, които генерират заявки и комуникират с базата данни, както и няколко допълнителни помощни класове, за инициализиране и връзка с нея. В Презентер частта апликацията съдържа отново два основни класа, които на база user input-a извличат информацията, комуникирайки с класовете от модел частта, обработват я, форматират я, и я подават към View компонента, готова за извеждане- тук идва разликата със MVC модела, където контролер частта подава информацията, без особено много обработка.



3. Базата данни на приложението е структурирана според нормализирана схема, която ефективно свързва данните от продажби, продукти, клиенти и транзакции. По този начин се постига бърз достъп и управление на информацията, както и премахване на елемента на повторяемост в данните.


Фиг.1 Схема база данни
Заб. Всички колони, освен sales, order_date и ship_date са форматиране в str формат.


4. Работен поток и функционалности
4.1.Към апликацията се подава CSV файл, който се прочита, обработва, като в зависимост от качеството на информацията процедира по различен начин:
•	Записът се изтриван
•	Пъплва се с най-често срещания елемент в съответната колона

Формат на файла:

Фиг.2 Формат на файла

4.2. След като информацията е почиестена, се подава към класа, отговорен за генерирането на базата данни, който по предварително определена схема инициализира и попълва базата с данните.
Фиг.3 Таблица customers












4.3.Графични елементи - инициализира се графичния интефейс, който се състои от 3 основни екрана, като всеки екран се контролира от отделен клас, който динамично генерира графичните елементи.

4.3.1 Dashboard screen


Фиг.4 Dashboard screen


На Dashboard екрана се извежда различен тип обощена информация, като продажби по месеци от началото на годината и съпоставката им със същия период миналата година, графика за разпределението на продажбите по категория, както и показатели в цифров формат- като дневни продажби, средни продажби на клиент, средни продажби на поръчка и други. Отбелязвам, че тъй като приложението няма връзка със ЕРП система, която да подава ежедневно данни, е настроено да приема за текуща дата, най-скорошната дата, фигурираща в базата данни.














4.3.2 Reports screen

Reports екран- тук приложението дава възмоност за генериране на различни справки на база основни показатели, след което дава опция за генериране на CSV файл за външна употреба. Може да се избира между Segment, Region, Customer и Product. При отбелязване на например Product, се генерира справка, която съдържа начало на периода и край на периода на справката, обобщени данни за продажби по продукти, както и сумарното измеренене на продажбите. При избор и на Customer, данните се обобщават по продукт, по клиент и тн. Програмата дава възможност са генериране на CSV файл за външна употреба.

Фиг.5 Reports screen



4.3.3.  Analytics - той дава възможност за генериране на сравнителен анализ за избран период на определен продукт, сегмент или регион. При избиране на период, елемент, динамично се генерира бутон със всички възможни елементи от съответната група. След натискане на бутона generate, спавака се инициализира и на екрана се появяват две таблици- едната съдържа данни по дни за продажбите на съответния елемент за избрания период, другата същия формат данни, но за същия период миналата година. Изобразява се и графика със сравнение и различни показатели.

Фиг.6 Analytics screen



Фиг.7 Работен поток



4.4. Потребителя взаимодейства с графичния интерфейс, като на база неговия инпут, приожението извлича и обработва информацията, след което на екрана се извежда резултата, като този поток на работа се повтаря докато приложението не бъде затворено.








5. Схема и катко описание на основите класове.
								Фиг.8 Схема на класовете

5.1.SalesViewAnalytics(main.py), ScreenClasses(main.py)

От SalesViewAnalytics се стартира приложението и инициализира графичния интерфейс. Класовете на екраните отговарят за инициализиране на графичните елементи, като освен това предават интеракциите на потребителя към Reports, Analytics и Visualisations класовете, които връщат необходимата информация и я извеждат на екрана.

5.2. Reports(analytics_manager.py)

Отговорен за изпълнение на по-подробни аналитични операции като сравнения, анализ на трендове и други.
Работи главно с QueryGenerator класа, като му подава параметри по определн начин, с цел получаване на необходимата информация.

5.3. Analytics(analytics_manager.py)

Отговорен за генериране на визуализации, и репрезентация на данните, като bar charts, line charts и други.Взаимодейства с DataExtractor.

5.4. DataExtractor(query_manager.py)

Комуникира директно с базата данни, като е отговорен за изпълнение на SQL заявките, които са по-сложни и не са генерирани динамично.

5.5. QueryGenerator(query_manager.py)

Генерира динамични SQL заявки, които са на база входни данни от потребителя. Използва се главно от Reports класа.

5.6. Database Scripts(create_database.py, data_import.py, database_utils.py)

Тези класове са отговорни за настройката, инициализацията на базата данни, както и импортирането на информацията. Осигуряват основните фунцкии, свързани с базата, като свързване, създаване на таблици и изпълнения на заявки.


6. Основни използвани технологии

•	Python
Основен програмен език на приложението, подбран заради лекоата си на ползване, както и богатия набор от библиотеки, които поддържа

•	Kivy&KivyMD

За графичната част на приложението са изполвани Kivy и разширението към него KivyMD.
•	SQLite

Отговаря съхранението и менажирането на информацията, като позволява ефективен и бърз достъп.

•	Matplotlib

Чрез тази библиотека са генерирани различните видове графики, визуализиране в Dashboard и Analytics екраните.

•	Pandas

Използва се  при началната обработка на входните данни под формата на сет от данни в CSV формат.


7. Предизвикателства

Доста голям проблем беше интеграцията на matplotlib графики в графичния интерфейс.

Друго предизвикателство беше разработването на клас, който да може динамично да генерира SQL заявки и да се избегне hard кодването им.

8. Бъдещи подобрения

Бъдещите подобрения включват разширяване на функционалността с допълнителни опции за анализ, както и добавяне на функционалност за прогнозиране на продажбите, чрез специално разработен алгоритъм.

